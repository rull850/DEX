<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dex Web Server - Beranda</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root{--primary-color:#00a8ff;--secondary-color:#00ffff;--accent-color:#ff6b6b;--success-color:#00cc66;--warning-color:#ffcc00;--bg-dark:#000;--bg-light-dark:rgba(20,25,40,0.8);--bg-blur:rgba(20,25,40,0.95);--text-light:#e0e0ff;--text-muted:#8899bb;--border-color:rgba(0,168,255,0.2);--shadow-light:rgba(0,0,0,0.1);--shadow-medium:rgba(0,0,0,0.3);--shadow-accent:rgba(0,114,255,0.3);--diamond:#b9f2ff}*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;-webkit-tap-highlight-color:transparent}body{background:var(--bg-dark);color:var(--text-light);min-height:100vh;overflow-x:hidden;position:relative;display:flex;flex-direction:column}body::before,body::after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}body::before{background:radial-gradient(circle at 20% 30%,rgba(0,168,255,0.1)0,transparent 40%),radial-gradient(circle at 80% 70%,rgba(0,255,255,0.1)0,transparent 40%),radial-gradient(circle at 50% 20%,rgba(102,51,153,0.1)0,transparent 40%)}body::after{background-image:linear-gradient(rgba(0,168,255,0.05)1px,transparent 1px),linear-gradient(90deg,rgba(0,168,255,0.05)1px,transparent 1px);background-size:40px 40px}#loginPage{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:var(--bg-dark)}.login-container{background:var(--bg-light-dark);border-radius:15px;padding:40px 30px;width:100%;max-width:450px;box-shadow:0 10px 30px rgba(0,0,0,0.3);border:1px solid var(--primary-color);backdrop-filter:blur(10px);animation:fadeIn 0.8s ease}.login-logo{text-align:center;font-size:3.5rem;font-weight:700;background:linear-gradient(90deg,var(--secondary-color),#00ffcc,#66ffff,var(--secondary-color));-webkit-background-clip:text;background-clip:text;color:transparent;background-size:300% auto;animation:shine 3s linear infinite;margin-bottom:20px}.login-title{font-size:1.8rem;color:var(--secondary-color);margin-bottom:25px;text-align:center}.login-form{display:flex;flex-direction:column;gap:20px}.form-group{display:flex;flex-direction:column;gap:8px}.form-group label{font-weight:600;color:var(--text-light)}.form-control{width:100%;padding:12px 15px;border-radius:8px;border:1px solid var(--primary-color);background:rgba(20,25,40,0.7);color:var(--text-light);font-size:1rem;transition:all 0.3s ease}.form-control:focus{border-color:var(--secondary-color);box-shadow:0 0 0 3px rgba(0,255,255,0.2);outline:none}.login-btn{padding:12px;border-radius:8px;border:none;background:linear-gradient(45deg,var(--primary-color),#0072ff);color:white;font-weight:700;font-size:1.1rem;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;gap:10px}.login-btn:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,114,255,0.4)}.login-options{display:flex;flex-direction:column;gap:15px;margin-top:25px}.login-option{padding:12px 15px;background:rgba(0,168,255,0.15);border-radius:8px;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:10px;color:var(--primary-color);border:1px solid transparent}.login-option:hover{background:rgba(0,168,255,0.25);border-color:var(--primary-color);transform:translateX(5px)}.top-bar{display:flex;align-items:center;justify-content:space-between;background:rgba(0,0,0,0.8);padding:10px 15px;box-shadow:0 4px 12px rgba(0,255,255,0.2);position:sticky;top:0;left:0;right:0;z-index:999;border-bottom:1px solid var(--border-color);height:70px;backdrop-filter:blur(5px);gap:15px}.logo-container{display:flex;align-items:center;gap:15px;min-width:50px;flex-shrink:0}.logo{font-size:28px;font-weight:700;background:linear-gradient(90deg,var(--secondary-color),#00ffcc,#66ffff,var(--secondary-color));-webkit-background-clip:text;background-clip:text;color:transparent;background-size:300% auto;animation:shine 3s linear infinite;cursor:pointer}.logo.rainbow{background:linear-gradient(90deg,#ff0000,#ff9900,#ffff00,#00ff00,#00ffff,#0000ff,#9900ff,#ff00ff,#ff0000);-webkit-background-clip:text;background-clip:text;color:transparent;background-size:300% auto;animation:shine 3s linear infinite}@keyframes shine{0%{background-position:0 50%}100%{background-position:100% 50%}}.search-bar{flex:1 1 auto;max-width:600px;min-width:100px;margin:0 20px;display:flex;align-items:center;padding:8px 15px;background-color:rgba(0,168,255,0.15);border-radius:8px;box-shadow:0 2px 4px var(--shadow-light);transition:all 0.4s cubic-bezier(0.215,0.61,0.355,1);backdrop-filter:blur(4px);border:1px solid transparent;transform:scale(1)}.search-bar.active{background-color:rgba(0,168,255,0.25);box-shadow:0 0 10px rgba(0,255,255,0.4);border:1px solid rgba(0,255,255,0.4);transform:scale(1.05)}.search-bar input{background:none;border:0;color:var(--text-light);outline:0;margin-left:8px;flex:1;font-size:14px;padding:5px;transition:all 0.3s ease;min-width:0}.search-bar input::placeholder{color:var(--text-muted);transition:opacity 0.3s}.search-bar.active input::placeholder{opacity:0.5}.hamburger{display:flex;justify-content:center;align-items:center;height:40px;width:40px;cursor:pointer;transition:all 0.3s;font-size:20px;background:none;color:var(--primary-color);border:0;flex-shrink:0}.hamburger:hover{color:var(--secondary-color)}.hamburger.active{color:#fff}.hamburger-icon{position:relative;width:24px;height:24px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer;transition:transform 0.3s cubic-bezier(0.175,0.885,0.32,1.275)}.hamburger-line{width:100%;height:3px;background-color:var(--primary-color);border-radius:2px;transition:all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);transform-origin:center}.hamburger.active .hamburger-line:nth-child(1){transform:translateY(10.5px) rotate(45deg);background-color:var(--secondary-color)}.hamburger.active .hamburger-line:nth-child(2){opacity:0;transform:scaleX(0)}.hamburger.active .hamburger-line:nth-child(3){transform:translateY(-10.5px) rotate(-45deg);background-color:var(--secondary-color)}.hamburger:hover .hamburger-line{background-color:var(--secondary-color)}.menu-items{position:fixed;top:70px;left:0;right:0;max-height:0;opacity:0;visibility:hidden;overflow:hidden;flex-direction:column;background-color:var(--bg-blur);padding:0 15px;margin:0 15px;border-radius:0 0 6px;display:flex;transition:all 0.5s cubic-bezier(0.215,0.61,0.355,1);box-shadow:0 4px 8px var(--shadow-medium);backdrop-filter:blur(10px);z-index:998}.menu-items.show{max-height:500px;opacity:1;visibility:visible;padding:10px 15px}.menu-item{display:flex;align-items:center;gap:8px;padding:10px 8px;cursor:pointer;color:var(--primary-color);border-radius:4px;transition:all 0.2s cubic-bezier(0.215,0.61,0.355,1)}.menu-item:hover{background-color:rgba(0,168,255,0.2);transform:translateX(5px)}.menu-item.clicked{background-color:rgba(0,168,255,0.3);color:var(--secondary-color);font-weight:700}.menu-item.logout-item{color:var(--accent-color);font-weight:700;border-top:1px solid rgba(0,168,255,0.3);padding-top:10px}.menu-item.logout-item:hover{background-color:rgba(255,107,107,0.2)}.container{max-width:1200px;margin:0 auto;padding:0 15px;flex:1}.breadcrumb{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text-muted);margin:10px 15px 20px;padding-bottom:10px;border-bottom:1px solid var(--border-color)}.breadcrumb a{color:var(--primary-color);text-decoration:none;transition:color 0.3s}.breadcrumb a:hover{color:var(--secondary-color);text-decoration:underline}.breadcrumb .separator{margin:0 5px;color:var(--primary-color)}.breadcrumb .current{color:var(--secondary-color);font-weight:700}.premium-content{max-width:1200px;margin:0 auto;padding:20px}.premium-header{text-align:center;margin-bottom:40px}.premium-header h2{font-size:2.2rem;margin-bottom:15px;color:#ffcc00;display:flex;align-items:center;justify-content:center;gap:10px}.premium-header p{font-size:1.1rem;color:var(--text-light);max-width:600px;margin:0 auto}.premium-plans{display:flex;justify-content:center;gap:25px;margin-bottom:40px}.plan-card{background:rgba(20,30,50,0.6);border-radius:15px;padding:30px 20px;border:1px solid var(--diamond);position:relative;overflow:hidden;transition:all 0.4s ease;box-shadow:0 10px 30px rgba(0,0,0,0.3);transform:translateY(0);display:flex;flex-direction:column;width:100%;max-width:400px}.plan-card:hover{transform:translateY(-10px);box-shadow:0 15px 35px rgba(0,0,0,0.4)}.plan-card.diamond{border-color:var(--diamond)}.plan-card h3{font-size:1.8rem;margin-bottom:20px;text-align:center;display:flex;align-items:center;justify-content:center;gap:10px}.plan-card.diamond h3{color:var(--diamond)}.plan-price{font-size:2.5rem;font-weight:700;text-align:center;margin:20px 0}.plan-card.diamond .plan-price{color:var(--diamond)}.plan-price span{font-size:1rem;font-weight:normal;color:var(--text-muted)}.plan-features{flex:1;margin-bottom:30px}.plan-features ul{list-style:none;padding-left:0}.plan-features li{padding:12px 0;color:var(--text-light);border-bottom:1px dashed rgba(255,255,255,0.1);display:flex;align-items:center;gap:10px;font-size:0.95rem}.plan-features li:last-child{border-bottom:none}.plan-features li i{width:20px;text-align:center}.plan-card.diamond .plan-features li i{color:var(--diamond)}.plan-badge{position:absolute;top:15px;right:-30px;background:linear-gradient(45deg,rgba(0,0,0,0.7),rgba(0,0,0,0.4));color:white;padding:5px 30px;transform:rotate(45deg);font-size:0.8rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;width:150px;text-align:center}.plan-card.diamond .plan-badge{background:linear-gradient(45deg,var(--diamond),#1e90ff)}.buy-button{display:block;width:100%;padding:12px;border-radius:8px;border:none;font-weight:700;font-size:1rem;cursor:pointer;transition:all 0.3s ease;text-align:center;text-transform:uppercase;letter-spacing:1px;box-shadow:0 4px 15px rgba(0,0,0,0.3)}.plan-card.diamond .buy-button{background:linear-gradient(45deg,var(--diamond),#1e90ff);color:#000}.buy-button:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,0.4)}.buy-button:active{transform:translateY(1px)}.premium-status{text-align:center;margin-top:30px;padding:20px;background:rgba(20,30,50,0.6);border-radius:10px;border:1px solid var(--diamond)}.premium-status h3{color:var(--diamond);margin-bottom:15px}.premium-status p{margin-bottom:20px;font-size:1.1rem}.toggle-container{display:flex;align-items:center;justify-content:center;gap:15px}.toggle-label{font-size:1.1rem;font-weight:600}.toggle-switch{position:relative;display:inline-block;width:60px;height:34px}.toggle-switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:0.4s;border-radius:34px}.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:white;transition:0.4s;border-radius:50%}input:checked+.slider{background:linear-gradient(45deg,var(--diamond),#1e90ff)}input:checked+.slider:before{transform:translateX(26px)}#homeContent,#developerContent{max-width:1200px;margin:0 auto;padding:20px}.b-header{text-align:center;margin-bottom:40px;animation:fadeIn 1s ease}.b-header h2{font-size:2.2rem;margin-bottom:15px;color:var(--secondary-color);background:linear-gradient(90deg,#00ccff,#00ffcc);-webkit-background-clip:text;background-clip:text;color:transparent}.b-header p{font-size:1.1rem;color:var(--text-muted);max-width:800px;margin:0 auto}.b-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:30px;margin-top:30px}.b-card{background:var(--bg-light-dark);border-radius:15px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.3);transition:all 0.3s ease;border:1px solid rgba(0,168,255,0.2);animation:slideUp 0.6s ease;animation-fill-mode:backwards}.b-card:hover{transform:translateY(-10px);box-shadow:0 15px 40px rgba(0,255,255,0.3);border-color:var(--secondary-color)}.b-card-image{width:100%;height:200px;object-fit:cover;display:block}.b-card-content{padding:25px}.b-owner{display:flex;align-items:center;margin-bottom:15px;position:relative}.b-owner-avatar{width:40px;height:40px;border-radius:50%;margin-right:12px;object-fit:cover;border:2px solid var(--primary-color);background:linear-gradient(135deg,var(--primary-color),#0072ff);color:white;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:18px}.b-owner-details{flex:1}.b-owner-name{font-weight:600;color:var(--primary-color);display:flex;align-items:center;gap:5px}.b-date{font-size:0.85rem;color:var(--text-muted)}.b-card-title{font-size:1.4rem;margin-bottom:15px;color:var(--primary-color)}.b-tags{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:20px}.b-tag{background:rgba(0,168,255,0.15);color:var(--primary-color);padding:5px 12px;border-radius:20px;font-size:0.85rem;transition:all 0.3s ease}.danger-tag{color:#ff5555!important;background:rgba(255,85,85,0.15)!important;font-weight:600}.b-tag:hover{background:rgba(0,168,255,0.3);transform:translateY(-2px)}.b-actions{display:flex;justify-content:space-between;gap:15px;flex-wrap:wrap}.b-button{padding:10px 20px;border-radius:6px;color:white;border:none;cursor:pointer;font-weight:600;transition:all 0.3s ease;display:flex;align-items:center;gap:8px;flex:1;min-width:120px;justify-content:center}.b-button.visit{background:linear-gradient(45deg,var(--success-color),#00aa55)}.b-button.download{background:linear-gradient(45deg,var(--primary-color),#0072ff)}.b-button.delete{background:linear-gradient(45deg,var(--accent-color),#ff3333)}.b-button:hover{transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,114,255,0.4)}.b-more-btn{position:absolute;right:0;top:0;background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:1.2rem;padding:5px;transition:all 0.3s ease}.b-more-btn:hover{color:var(--secondary-color);transform:rotate(90deg)}.b-dropdown{position:absolute;right:0;top:30px;background:var(--bg-blur);border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,0.3);z-index:10;display:none;min-width:150px;overflow:hidden;border:1px solid var(--border-color)}.b-dropdown.show{display:block;animation:fadeIn 0.2s ease}.b-dropdown-item{padding:10px 15px;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;gap:8px;font-size:0.9rem}.b-dropdown-item:hover{background:rgba(0,168,255,0.2)}.b-dropdown-item i{width:20px;text-align:center}@keyframes slideUp{0%{opacity:0;transform:translateY(30px)}100%{opacity:1;transform:translateY(0)}}#passwordPromptDialog{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg-blur);padding:30px;border-radius:15px;box-shadow:0 20px 50px rgba(0,0,0,.5);display:none;z-index:10000;width:90%;max-width:400px;border:1px solid var(--primary-color);backdrop-filter:blur(10px);animation:popIn .4s cubic-bezier(.175,.885,.32,1.275) forwards;opacity:0;transform:translate(-50%,-50%)scale(.8)}@keyframes popIn{0%{opacity:0;transform:translate(-50%,-50%)scale(.8)}100%{opacity:1;transform:translate(-50%,-50%)scale(1)}}#passwordPromptDialog h3{color:var(--secondary-color);margin-bottom:20px;font-size:1.5rem;display:flex;align-items:center;gap:10px;text-align:center;justify-content:center}.payment-input{width:100%;padding:12px 15px;border-radius:8px;border:1px solid var(--primary-color);background:rgba(20,25,40,.7);color:var(--text-light);font-size:1rem;margin-bottom:20px;transition:all 0.3s ease}.payment-input:focus{border-color:var(--secondary-color);box-shadow:0 0 0 3px rgba(0,255,255,.2);outline:none}.dialog-buttons{display:flex;justify-content:space-between;gap:15px}.dialog-btn{flex:1;padding:12px;border-radius:8px;border:none;font-weight:700;font-size:1rem;cursor:pointer;transition:all 0.3s ease}.dialog-cancel{background:rgba(255,107,107,.3);color:var(--accent-color);border:1px solid var(--accent-color)}.dialog-cancel:hover{background:rgba(255,107,107,.5);color:white}.dialog-confirm{background:linear-gradient(45deg,#00cc66,#009944);color:white}.dialog-confirm:hover{background:linear-gradient(45deg,#009944,#00cc66);transform:translateY(-2px)}footer{text-align:center;padding:20px;color:hsla(0,0%,100%,.6);font-size:.9rem;margin-top:30px;background:rgba(0,0,0,.2);border-radius:8px;margin:15px;backdrop-filter:blur(4px)}.notification{position:fixed;bottom:20px;left:50%;transform:translate(-50%,100px);background:var(--bg-blur);color:var(--text-light);padding:15px 25px;border-radius:30px;box-shadow:0 5px 15px rgba(0,0,0,.5);display:flex;align-items:center;gap:10px;z-index:10000;opacity:0;transition:all .3s ease;backdrop-filter:blur(10px);border:1px solid rgba(0,168,255,.3)}.notification.show{transform:translate(-50%,0);opacity:1}.notification.success{border-left:4px solid #00cc66}.notification.error{border-left:4px solid #ff5555}.notification.info{border-left:4px solid var(--primary-color)}.notification i{font-size:18px}.notification.success i{color:#00cc66}.notification.error i{color:#ff5555}.notification.info i{color:var(--primary-color)}.hidden{display:none!important}.main-content{display:flex;flex-wrap:wrap;gap:30px;margin-top:20px}.upload-section,.files-section{padding:30px;flex:1;min-width:300px;display:flex;flex-direction:column;animation:slideUp .8s ease;background:var(--bg-light-dark);border-radius:10px;box-shadow:0 5px 15px var(--shadow-medium);backdrop-filter:blur(4px);border-left:4px solid var(--primary-color);margin-bottom:20px}.section-title{font-size:1.8rem;margin-bottom:20px;color:var(--secondary-color);border-bottom:2px solid var(--primary-color);padding-bottom:10px;display:flex;align-items:center;gap:10px}.back-button{display:inline-flex;align-items:center;gap:5px;background:rgba(0,168,255,.15);color:var(--primary-color);padding:8px 15px;border-radius:30px;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(2px);border:1px solid rgba(0,168,255,.3);margin-top:20px}.back-button:hover{background:rgba(0,168,255,.25);transform:translateX(-5px);box-shadow:0 0 10px rgba(0,168,255,.3);color:var(--secondary-color)}.back-button i{transition:transform .3s ease}.back-button:hover i{transform:translateX(-5px)}.b-form-container{background:var(--bg-light-dark);border-radius:15px;padding:30px;margin-top:30px;box-shadow:0 10px 30px rgba(0,0,0,0.3);border:1px solid var(--diamond);display:none}.b-form-container.show{display:block}.b-form-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.b-form-header h3{color:var(--diamond);font-size:1.5rem;display:flex;align-items:center;gap:10px}.close-form{background:none;border:none;color:var(--accent-color);font-size:1.5rem;cursor:pointer;transition:all 0.3s ease}.close-form:hover{transform:rotate(90deg);color:#ff3333}.form-row{display:flex;gap:20px;margin-bottom:20px}.form-col{flex:1;min-width:0}.form-group{margin-bottom:20px}.form-group label{display:block;margin-bottom:8px;font-weight:600;color:var(--text-light)}.form-control{width:100%;padding:12px 15px;border-radius:8px;border:1px solid var(--primary-color);background:rgba(20,25,40,0.7);color:var(--text-light);font-size:1rem;transition:all 0.3s ease}.form-control:focus{border-color:var(--secondary-color);box-shadow:0 0 0 3px rgba(0,255,255,0.2);outline:none}.tag-container{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:15px}.tag-item{background:rgba(0,168,255,0.15);color:var(--primary-color);padding:5px 12px;border-radius:20px;font-size:0.9rem;display:flex;align-items:center;gap:8px}.tag-item .remove-tag{cursor:pointer;color:var(--accent-color);font-size:14px}.add-tag-btn{background:rgba(0,168,255,0.2);color:var(--secondary-color);border:none;border-radius:20px;padding:5px 15px;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:5px}.add-tag-btn:hover{background:rgba(0,168,255,0.3);transform:translateY(-2px)}.form-actions{display:flex;justify-content:flex-end;gap:15px;margin-top:20px}.form-btn{padding:10px 20px;border-radius:6px;border:none;font-weight:600;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:8px}.save-btn{background:linear-gradient(45deg,var(--success-color),#00aa55);color:white}.cancel-btn{background:rgba(255,107,107,0.3);color:var(--accent-color);border:1px solid var(--accent-color)}.save-btn:hover,.cancel-btn:hover{transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,114,255,0.4)}.file-upload-container{margin-bottom:20px}.file-upload-label{display:block;margin-bottom:8px;font-weight:600;color:var(--text-light)}.file-upload-wrapper{position:relative;display:inline-block;width:100%}.file-upload-btn{padding:10px 15px;background:rgba(0,168,255,0.2);color:var(--secondary-color);border:1px dashed var(--primary-color);border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all 0.3s ease;width:100%}.file-upload-btn:hover{background:rgba(0,168,255,0.3);border-color:var(--secondary-color)}.file-input-hidden{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;cursor:pointer}.file-upload-info{display:flex;align-items:center;gap:10px;margin-top:8px;padding:8px;background:rgba(0,168,255,0.1);border-radius:6px;display:none}.file-icon{color:var(--primary-color)}.file-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.9rem}.file-remove{cursor:pointer;color:var(--accent-color);padding:4px}.file-remove:hover{color:#ff3333}.image-preview{margin-top:15px;max-width:100%;max-height:200px;border-radius:8px;display:none}#addBContainer{margin-top:0;margin-bottom:40px}.edit-form-container{margin-top:30px;margin-bottom:30px;display:none}.edit-form-container.show{display:block}.edit-form-container.show{display:block!important;animation:slideUp 0.5s ease;position:relative;z-index:10}.edit-form-container{width:100%;margin:20px 0}.edit-form-container .b-form-container{display:block}.owner-dev{background:linear-gradient(90deg,#ff00cc,#00ccff);-webkit-background-clip:text;background-clip:text;color:transparent;animation:shine 3s linear infinite}.file-info-label{font-size:0.85rem;color:var(--text-muted);margin-top:5px;display:block}.dev-icon{color:#00ffff;text-shadow:0 0 10px #00ffff,0 0 20px #00ffff;animation:pulse 1.5s infinite}@keyframes pulse{0%{opacity:0.8}50%{opacity:1}100%{opacity:0.8}}.material-icons{font-size:1.1em;vertical-align:middle}.login-btn .material-icons{font-size:1.2em}.menu-item .material-icons{font-size:1.2em}.b-button .material-icons{font-size:1.1em}.b-dropdown-item .material-icons{font-size:1em}.file-icon .material-icons{font-size:1.2em}.premium-header h2 .material-icons{font-size:1.2em}.plan-card h3 .material-icons{font-size:1.2em}.b-form-header h3 .material-icons{font-size:1.2em}.b-header h2 .material-icons{font-size:1.2em}.b-owner-name .material-icons{font-size:1.1em}.b-owner-avatar .material-icons{font-size:1.2em}.notification .material-icons{font-size:1.3em}
    </style>
</head>
<body>
    <div id="loginPage">
        <div class="login-container">
            <div class="login-logo">DX</div>
            <h2 class="login-title">Login ke Dex Web Server</h2>
            <div class="login-form">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" class="form-control" placeholder="Masukkan username">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" class="form-control" placeholder="Masukkan password">
                </div>
                <button class="login-btn" id="loginBtn"><span class="material-icons">login</span> Login</button>
            </div>
            <div class="login-options">
                <div class="login-option" data-username="dev" data-password="dev123"><span class="material-icons">admin_panel_settings</span> Login sebagai Developer</div>
                <div class="login-option" data-username="user" data-password="user123"><span class="material-icons">person</span> Login sebagai Pengguna</div>
            </div>
        </div>
    </div>
    
    <div id="appContent" class="hidden">
        <div class="top-bar">
            <div class="logo-container">
                <div class="logo" id="logo">DX</div>
            </div>
            <div class="search-bar" id="searchBar">
                <span class="material-icons">search</span>
                <input type="text" id="search" placeholder="CARI MENU...">
            </div>
            <div class="hamburger" id="hamburger">
                <div class="hamburger-icon">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </div>
            </div>
        </div>
        
        <div class="menu-items" id="menuItems">
            <div class="menu-item" data-page="home" id="homeMenuItem"><span class="material-icons">home</span> HOME</div>
            <div class="menu-item" id="devMenuItem"><span class="material-icons">code</span> DEVELOPER</div>
            <div class="menu-item" id="premiumMenuItem"><span class="material-icons">grade</span> PREMIUM</div>
            <div class="menu-item logout-item" id="logoutMenuItem"><span class="material-icons">logout</span> LOGOUT</div>
        </div>
        
        <div class="container">
            <div class="breadcrumb" id="mainBreadcrumb"></div>
            
            <div id="premiumContent" class="hidden">
                <div class="premium-content">
                    <div class="premium-header">
                        <h2><span class="material-icons">grade</span> Tingkatkan ke Akun Premium</h2>
                        <p>Dapatkan akses penuh ke semua fitur Dex Web Server dengan paket premium</p>
                    </div>
                    
                    <div class="premium-plans">
                        <div class="plan-card diamond">
                            <div class="plan-badge">VIP</div>
                            <h3><span class="material-icons">diamond</span> Diamond</h3>
                            <div class="plan-price">Rp 499.000<span>/bulan</span></div>
                            <div class="plan-features">
                                <ul>
                                    <li><span class="material-icons">check</span> Akses ke semua fitur</li>
                                    <li><span class="material-icons">check</span> Dukungan Prioritas VIP</li>
                                    <li><span class="material-icons">check</span> Fitur eksklusif premium</li>
                                    <li><span class="material-icons">check</span> Penyimpanan Tak Terbatas</li>
                                    <li><span class="material-icons">check</span> Kecepatan pemrosesan maksimum</li>
                                    <li><span class="material-icons">check</span> Pembaruan real-time</li>
                                    <li><span class="material-icons">check</span> Fitur lanjutan</li>
                                    <li><span class="material-icons">check</span> Prioritas Tertinggi</li>
                                </ul>
                            </div>
                            <button class="buy-button" data-tier="diamond"><span class="material-icons">shopping_cart</span> Beli Sekarang</button>
                        </div>
                    </div>
                    
                    <div class="premium-status" id="premiumStatus">
                        <h3><span class="material-icons">info</span> Status Premium Anda</h3>
                        <p id="premiumStatusText">Anda belum memiliki akun premium</p>
                        <div class="toggle-container" id="premiumToggle" style="display: none;">
                            <span class="toggle-label">Aktifkan Fitur Premium</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="premiumToggleInput">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="homeContent" class="hidden">
                <div class="b-header">
                    <h2><span class="material-icons">dashboard</span> Beranda</h2>
                    <p>Selamat datang di Beranda Dex Web Server. Temukan alat-alat terbaik dari komunitas kami.</p>
                </div>
                <div class="b-grid" id="bGrid"></div>
            </div>
            
            <div id="developerContent" class="hidden">
                <div class="b-header">
                    <h2><span class="material-icons">code</span> Developer Tools</h2>
                    <p>Selamat datang di area developer. Kelola semua alat developer Anda di sini.</p>
                    <div style="display:flex;gap:15px;justify-content:center;margin-top:20px">
                        <button class="b-button edit" id="addNewBButton"><span class="material-icons">add</span> Tambah Alat</button>
                        <button class="b-button edit" id="addDevToolButton"><span class="material-icons">add</span> Tambah Alat Developer</button>
                    </div>
                </div>
                
                <div class="b-form-container" id="addBContainer">
                    <div class="b-form-header">
                        <h3><span class="material-icons">add_circle</span> Tambah Alat Baru</h3>
                        <button class="close-form" id="closeAddForm"><span class="material-icons">close</span></button>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="newBTitle">Judul</label>
                                <input type="text" id="newBTitle" class="form-control" placeholder="Masukkan judul alat">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="newBImageFile">Gambar Cover</label>
                                <div class="file-upload-wrapper">
                                    <div class="file-upload-btn">
                                        <span class="material-icons">upload</span>
                                        <span>Pilih Gambar</span>
                                    </div>
                                    <input type="file" id="newBImageFile" class="file-input-hidden" accept="image/*">
                                    <div class="file-upload-info" id="newBImageFileInfo">
                                        <span class="file-icon"><span class="material-icons">image</span></span>
                                        <span class="file-name" id="newBImageFileName"></span>
                                        <span class="file-remove" id="removeNewBImage"><span class="material-icons">close</span></span>
                                    </div>
                                </div>
                                <img id="newBImagePreview" class="image-preview">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="newBAttachmentFile">File Lampiran</label>
                                <div class="file-upload-wrapper">
                                    <div class="file-upload-btn">
                                        <span class="material-icons">upload_file</span>
                                        <span>Pilih File</span>
                                    </div>
                                    <input type="file" id="newBAttachmentFile" class="file-input-hidden">
                                    <div class="file-upload-info" id="newBAttachmentFileInfo">
                                        <span class="file-icon"><span class="material-icons">description</span></span>
                                        <span class="file-name" id="newBAttachmentFileName"></span>
                                        <span class="file-remove" id="removeNewBAttachment"><span class="material-icons">close</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="newBLink">URL</label>
                        <input type="text" id="newBLink" class="form-control" placeholder="Masukkan URL web">
                    </div>
                    
                    <div class="form-group">
                        <label>Tag</label>
                        <div class="tag-container" id="newBTagsContainer"></div>
                        <button class="add-tag-btn" id="addNewBTagBtn"><span class="material-icons">add</span> Tambah Tag</button>
                    </div>
                    
                    <div class="form-actions">
                        <button class="form-btn cancel-btn" id="cancelAddBButton"><span class="material-icons">close</span> Batal</button>
                        <button class="form-btn save-btn" id="saveNewBButton"><span class="material-icons">save</span> Simpan</button>
                    </div>
                </div>
                
                <div class="b-grid" id="devGrid"></div>
                
                <div class="edit-form-container" id="editBContainer">
                    <div class="b-form-container">
                        <div class="b-form-header">
                            <h3><span class="material-icons">edit</span> Edit Alat</h3>
                            <button class="close-form" id="closeEditForm"><span class="material-icons">close</span></button>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="editBImageUrl">URL Gambar Cover</label>
                                    <input type="text" id="editBImageUrl" class="form-control" placeholder="Masukkan URL gambar">
                                    <span class="file-info-label">Atau upload gambar di bawah</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="editBImageFile">Upload Gambar Cover</label>
                                    <div class="file-upload-wrapper">
                                        <div class="file-upload-btn">
                                            <span class="material-icons">upload</span>
                                            <span>Pilih Gambar (maks 1GB)</span>
                                        </div>
                                        <input type="file" id="editBImageFile" class="file-input-hidden" accept="image/*">
                                        <div class="file-upload-info" id="editBImageFileInfo">
                                            <span class="file-icon"><span class="material-icons">image</span></span>
                                            <span class="file-name" id="editBImageFileName"></span>
                                            <span class="file-remove" id="removeEditBImage"><span class="material-icons">close</span></span>
                                        </div>
                                    </div>
                                    <img id="editBImagePreview" class="image-preview">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="editBOwner">Nama Pengguna</label>
                                    <input type="text" id="editBOwner" class="form-control" placeholder="Masukkan nama pengguna">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="editBTitle">Judul</label>
                                    <input type="text" id="editBTitle" class="form-control" placeholder="Masukkan judul alat">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Tag</label>
                            <div class="tag-container" id="editBTagsContainer"></div>
                            <button class="add-tag-btn" id="addEditBTagBtn"><span class="material-icons">add</span> Tambah Tag</button>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="editBAttachmentFile">File Lampiran</label>
                                    <div class="file-upload-wrapper">
                                        <div class="file-upload-btn">
                                            <span class="material-icons">upload_file</span>
                                            <span>Pilih File (maks 1GB)</span>
                                        </div>
                                        <input type="file" id="editBAttachmentFile" class="file-input-hidden">
                                        <div class="file-upload-info" id="editBAttachmentFileInfo">
                                            <span class="file-icon"><span class="material-icons">description</span></span>
                                            <span class="file-name" id="editBAttachmentFileName"></span>
                                            <span class="file-remove" id="removeEditBAttachment"><span class="material-icons">close</span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="editBLink">URL</label>
                            <input type="text" id="editBLink" class="form-control" placeholder="Masukkan URL web">
                        </div>
                        
                        <div class="form-actions">
                            <button class="form-btn cancel-btn" id="cancelEditBButton"><span class="material-icons">close</span> Batal</button>
                            <button class="form-btn save-btn" id="saveEditBButton"><span class="material-icons">save</span> Simpan Perubahan</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="passwordPromptDialog">
            <h3><span class="material-icons">key</span> Masukkan Kata Sandi Developer</h3>
            <input type="password" id="passwordInput" class="payment-input" placeholder="Kata sandi">
            <div class="dialog-buttons">
                <button class="dialog-btn dialog-cancel" id="passwordCancelBtn">Batal</button>
                <button class="dialog-btn dialog-confirm" id="passwordSubmitBtn">Kirim</button>
            </div>
        </div>
        
        <footer><p>Dex Web Server &copy; 2025 - Beranda</p></footer>
    </div>
    
    <script>
        let dexApp;
        class DexWebServer {
            constructor() {
                this.D = {
                    loginPage: document.getElementById('loginPage'),
                    appContent: document.getElementById('appContent'),
                    usernameInput: document.getElementById('username'),
                    passwordInput: document.getElementById('password'),
                    loginBtn: document.getElementById('loginBtn'),
                    loginOptions: document.querySelectorAll('.login-option'),
                    homeContent: document.getElementById('homeContent'),
                    developerContent: document.getElementById('developerContent'),
                    premiumContent: document.getElementById('premiumContent'),
                    homeMenuItem: document.getElementById('homeMenuItem'),
                    logo: document.getElementById('logo'),
                    searchBar: document.getElementById('searchBar'),
                    search: document.getElementById('search'),
                    hamburger: document.getElementById('hamburger'),
                    menuItems: document.getElementById('menuItems'),
                    devMenuItem: document.getElementById('devMenuItem'),
                    premiumMenuItem: document.getElementById('premiumMenuItem'),
                    logoutMenuItem: document.getElementById('logoutMenuItem'),
                    bGrid: document.getElementById('bGrid'),
                    devGrid: document.getElementById('devGrid'),
                    mainBreadcrumb: document.getElementById('mainBreadcrumb'),
                    passwordPromptDialog: document.getElementById('passwordPromptDialog'),
                    passwordInputDev: document.getElementById('passwordInput'),
                    passwordSubmitBtn: document.getElementById('passwordSubmitBtn'),
                    passwordCancelBtn: document.getElementById('passwordCancelBtn'),
                    premiumStatus: document.getElementById('premiumStatus'),
                    premiumStatusText: document.getElementById('premiumStatusText'),
                    premiumToggle: document.getElementById('premiumToggle'),
                    premiumToggleInput: document.getElementById('premiumToggleInput'),
                    addNewBButton: document.getElementById('addNewBButton'),
                    addDevToolButton: document.getElementById('addDevToolButton'),
                    addBContainer: document.getElementById('addBContainer'),
                    closeAddForm: document.getElementById('closeAddForm'),
                    newBTitle: document.getElementById('newBTitle'),
                    newBImageFile: document.getElementById('newBImageFile'),
                    newBImageFileInfo: document.getElementById('newBImageFileInfo'),
                    newBImageFileName: document.getElementById('newBImageFileName'),
                    newBImagePreview: document.getElementById('newBImagePreview'),
                    removeNewBImage: document.getElementById('removeNewBImage'),
                    newBAttachmentFile: document.getElementById('newBAttachmentFile'),
                    newBAttachmentFileInfo: document.getElementById('newBAttachmentFileInfo'),
                    newBAttachmentFileName: document.getElementById('newBAttachmentFileName'),
                    removeNewBAttachment: document.getElementById('removeNewBAttachment'),
                    newBLink: document.getElementById('newBLink'),
                    newBTagsContainer: document.getElementById('newBTagsContainer'),
                    addNewBTagBtn: document.getElementById('addNewBTagBtn'),
                    cancelAddBButton: document.getElementById('cancelAddBButton'),
                    saveNewBButton: document.getElementById('saveNewBButton'),
                    editBContainer: document.getElementById('editBContainer'),
                    closeEditForm: document.getElementById('closeEditForm'),
                    editBTitle: document.getElementById('editBTitle'),
                    editBImageUrl: document.getElementById('editBImageUrl'),
                    editBImageFile: document.getElementById('editBImageFile'),
                    editBImageFileInfo: document.getElementById('editBImageFileInfo'),
                    editBImageFileName: document.getElementById('editBImageFileName'),
                    editBImagePreview: document.getElementById('editBImagePreview'),
                    removeEditBImage: document.getElementById('removeEditBImage'),
                    editBOwner: document.getElementById('editBOwner'),
                    editBAttachmentFile: document.getElementById('editBAttachmentFile'),
                    editBAttachmentFileInfo: document.getElementById('editBAttachmentFileInfo'),
                    editBAttachmentFileName: document.getElementById('editBAttachmentFileName'),
                    removeEditBAttachment: document.getElementById('removeEditBAttachment'),
                    editBLink: document.getElementById('editBLink'),
                    editBTagsContainer: document.getElementById('editBTagsContainer'),
                    addEditBTagBtn: document.getElementById('addEditBTagBtn'),
                    cancelEditBButton: document.getElementById('cancelEditBButton'),
                    saveEditBButton: document.getElementById('saveEditBButton')
                };
                this.clickCount = 0;
                this.currentPage = 'home';
                this.isDev = false;
                this.isLoggedIn = false;
                this.bCards = [];
                this.devCards = [];
                this.currentEditCard = null;
                this.tempImageFile = null;
                this.tempAttachmentFile = null;
                this.tempEditImageFile = null;
                this.tempEditAttachmentFile = null;
                this.dangerousTags = ['guro', 'snuff', 'rape', 'nsfw', '18+', 'explicit'];
                this.currentAddingType = 'home';
            }
            
            init() {
                this.D.loginBtn.addEventListener('click', () => this.login());
                this.D.loginOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        this.D.usernameInput.value = option.dataset.username;
                        this.D.passwordInput.value = option.dataset.password;
                    });
                });
                this._setupEventListeners();
                this._initializeBCards();
                this._initializeDevCards();
                this._updatePremiumUI();
                this._renderBCards();
                if (localStorage.getItem('isLoggedIn') === 'true') {
                    this.isLoggedIn = true;
                    this.isDev = localStorage.getItem('isDev') === 'true';
                    this.D.loginPage.classList.add('hidden');
                    this.D.appContent.classList.remove('hidden');
                    this._updateUIAfterLogin();
                } else {
                    this.D.logoutMenuItem.style.display = 'none';
                }
            }
            
            login() {
                const username = this.D.usernameInput.value.trim();
                const password = this.D.passwordInput.value.trim();
                if (!username || !password) {
                    this.showNotification('Silakan isi username dan password', 'error');
                    return;
                }
                if ((username === 'dev' && password === 'dev123') || (username === 'user' && password === 'user123')) {
                    this.isDev = (username === 'dev');
                    this.isLoggedIn = true;
                    localStorage.setItem('isLoggedIn', 'true');
                    localStorage.setItem('isDev', this.isDev.toString());
                    this.D.loginPage.classList.add('hidden');
                    this.D.appContent.classList.remove('hidden');
                    this._updateUIAfterLogin();
                    this.showNotification('Login berhasil!', 'success');
                } else {
                    this.showNotification('Username atau password salah', 'error');
                }
            }
            
            logout() {
                this.isLoggedIn = false;
                this.isDev = false;
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('isDev');
                this.D.appContent.classList.add('hidden');
                this.D.loginPage.classList.remove('hidden');
                this.D.usernameInput.value = '';
                this.D.passwordInput.value = '';
                this.toggleMenu(false);
                this.showNotification('Anda berhasil logout.', 'success');
            }
            
            _updateUIAfterLogin() {
                this.D.logoutMenuItem.style.display = 'flex';
                if (this.isDev) {
                    this.D.logo.classList.add('rainbow');
                    this.D.addNewBButton.style.display = 'inline-block';
                    this.D.addDevToolButton.style.display = 'inline-block';
                } else {
                    this.D.logo.classList.remove('rainbow');
                    this.D.addNewBButton.style.display = 'none';
                    this.D.addDevToolButton.style.display = 'none';
                }
                this._renderBCards();
                this._renderDevCards();
                this.navigateTo('home');
            }
            
            showNotification(message, type) {
                document.querySelector('.notification')?.remove();
                const notification = document.createElement('div');
                notification.className = `notification ${type} show`;
                notification.innerHTML = `<span class="material-icons">${type === 'success' ? 'check_circle' : type === 'error' ? 'error' : 'info'}</span> ${message}`;
                document.body.appendChild(notification);
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
            
            showCustomConfirm(message, onConfirm) {
                const dialog = document.createElement('div');
                dialog.style.cssText = `position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(30,40,60,.95);padding:25px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.4);z-index:10001;width:90%;max-width:350px;border:1px solid var(--primary-color);backdrop-filter:blur(10px);color:var(--text-light);`;
                dialog.innerHTML = `<p style="margin-bottom:20px;font-size:1.1rem;text-align:center;">${message}</p><div style="display:flex;justify-content:flex-end;gap:10px;"><button id="confirmYes" style="padding:8px 18px;border-radius:6px;border:0;cursor:pointer;font-weight:700;transition:all .2s cubic-bezier(.175,.885,.32,1.275);background-color:var(--accent-color);color:white;">Ya</button><button id="confirmNo" style="padding:8px 18px;border-radius:6px;border:0;cursor:pointer;font-weight:700;transition:all .2s cubic-bezier(.175,.885,.32,1.275);background-color:rgba(236,240,241,.1);color:var(--text-light);border:1px solid var(--primary-color);">Tidak</button></div>`;
                document.body.appendChild(dialog);
                document.getElementById('confirmYes').onclick = () => { onConfirm(); dialog.remove(); };
                document.getElementById('confirmNo').onclick = () => { dialog.remove(); };
            }
            
            _updatePremiumUI() {
                const premiumActive = localStorage.getItem('premiumActive') === 'true';
                const premiumTier = localStorage.getItem('premiumTier');
                if (premiumActive && premiumTier) {
                    this.D.premiumStatusText.textContent = `Status Premium: DIAMOND (AKTIF)`;
                    this.D.premiumToggle.style.display = 'flex';
                    this.D.premiumToggleInput.checked = true;
                } else {
                    this.D.premiumStatusText.textContent = 'Anda belum memiliki akun premium';
                    this.D.premiumToggle.style.display = 'none';
                }
            }
            
            togglePremiumStatus() {
                const isActive = this.D.premiumToggleInput.checked;
                localStorage.setItem('premiumActive', isActive);
                this.showNotification(`Fitur premium telah ${isActive ? 'diaktifkan' : 'dinonaktifkan'}`, 'success');
            }
            
            activatePremium(tier) {
                localStorage.setItem('premiumTier', tier);
                localStorage.setItem('premiumActive', 'true');
                this._updatePremiumUI();
                this.showNotification(`Akun premium ${tier} Anda telah aktif!`, 'success');
            }
            
            _showPasswordPrompt(callback) {
                this.D.passwordInputDev.value = '';
                this.D.passwordPromptDialog.style.display = 'block';
                this.D.passwordInputDev.focus();
                const handleSubmit = () => {
                    const password = this.D.passwordInputDev.value;
                    this.D.passwordPromptDialog.style.display = 'none';
                    callback(password);
                };
                const handleCancel = () => {
                    this.D.passwordPromptDialog.style.display = 'none';
                    callback(null);
                };
                this.D.passwordSubmitBtn.onclick = handleSubmit;
                this.D.passwordCancelBtn.onclick = handleCancel;
                this.D.passwordInputDev.onkeypress = (e) => { if (e.key === 'Enter') handleSubmit(); };
            }
            
            toggleDevMode() {
                if (this.isDev) {
                    this.navigateTo('developer');
                    return;
                }
                this._showPasswordPrompt((password) => {
                    if (password === 'dev123') {
                        this.isDev = true;
                        localStorage.setItem('isDev', 'true');
                        this.D.logo.classList.add('rainbow');
                        this.D.addNewBButton.style.display = 'inline-block';
                        this.D.addDevToolButton.style.display = 'inline-block';
                        this.showNotification('Anda masuk sebagai Developer.', 'success');
                        this._renderBCards();
                        this._renderDevCards();
                        this.navigateTo('developer');
                    } else if (password !== null) {
                        this.showNotification('Kata sandi salah!', 'error');
                    }
                });
            }
            
            toggleMenu(forceShow = null) {
                const show = forceShow !== null ? forceShow : !this.D.menuItems.classList.contains("show");
                this.D.menuItems.classList.toggle("show", show);
                this.D.hamburger.classList.toggle("active", show);
            }
            
            _markClicked(item) {
                document.querySelectorAll(".menu-item").forEach(el => el.classList.remove("clicked"));
                if (item) item.classList.add("clicked");
            }
            
            navigateTo(page) {
                if (!this.isLoggedIn) return;
                this.toggleMenu(false);
                [this.D.homeContent, this.D.premiumContent, this.D.developerContent].forEach(el => el.classList.add('hidden'));
                let breadcrumbHtml = `<a href="#" data-nav-page="home">HOME</a><span class="separator">/</span>`;
                let currentMenuItem = null;
                switch (page) {
                    case "home":
                        this.D.homeContent?.classList.remove('hidden');
                        breadcrumbHtml = `<span class="current">HOME</span>`;
                        currentMenuItem = this.D.homeMenuItem;
                        this.currentPage = 'home';
                        this.D.search.placeholder = 'CARI ALAT...';
                        this.D.search.value = '';
                        break;
                    case "premium":
                        this.D.premiumContent?.classList.remove('hidden');
                        breadcrumbHtml = `<a href="#" data-nav-page="home">HOME</a><span class="separator">/</span><span class="current">PREMIUM</span>`;
                        currentMenuItem = this.D.premiumMenuItem;
                        this.currentPage = 'premium';
                        this.D.search.placeholder = 'CARI MENU...';
                        this.D.search.value = '';
                        this._updatePremiumUI();
                        break;
                    case "developer":
                        this.D.developerContent?.classList.remove('hidden');
                        breadcrumbHtml = `<a href="#" data-nav-page="home">HOME</a><span class="separator">/</span><span class="current">DEVELOPER</span>`;
                        currentMenuItem = this.D.devMenuItem;
                        this.currentPage = 'developer';
                        this.D.search.placeholder = 'CARI ALAT DEVELOPER...';
                        this.D.search.value = '';
                        break;
                }
                this.D.mainBreadcrumb.innerHTML = breadcrumbHtml;
                if (currentMenuItem) this._markClicked(currentMenuItem);
                this._setupBreadcrumbListeners();
            }
            
            _setupBreadcrumbListeners() {
                this.D.mainBreadcrumb.querySelectorAll('a[data-nav-page]').forEach(link => {
                    link.onclick = this._breadcrumbNavHandler;
                });
            }
            
            _breadcrumbNavHandler = (e) => {
                e.preventDefault();
                this.navigateTo(e.target.dataset.navPage);
            };
            
            _filterList() {
                const input = this.D.search.value.toLowerCase();
                if (this.currentPage === 'home') {
                    const bCards = document.querySelectorAll('.b-card');
                    bCards.forEach(card => {
                        const title = card.querySelector('.b-card-title').textContent.toLowerCase();
                        const tags = Array.from(card.querySelectorAll('.b-tag')).map(tag => tag.textContent.toLowerCase()).join(' ');
                        const content = title + ' ' + tags;
                        card.style.display = content.includes(input) ? "block" : "none";
                    });
                }
                else if (this.currentPage === 'developer') {
                    const devCards = document.querySelectorAll('.dev-card');
                    devCards.forEach(card => {
                        const title = card.querySelector('.dev-card-title').textContent.toLowerCase();
                        const tags = Array.from(card.querySelectorAll('.dev-tag')).map(tag => tag.textContent.toLowerCase()).join(' ');
                        const content = title + ' ' + tags;
                        card.style.display = content.includes(input) ? "block" : "none";
                    });
                }
            }
            
            _initializeBCards() {
                if (!localStorage.getItem('bCards')) {
                    const defaultCards = [
                        {id:1,title:"Dex Chat Assistant",image:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=1000",tags:["Chat","Produktivitas","NLP"],link:"#",owner:"DEX",date:"15 Juli 2025"},
                        {id:2,title:"Image Generator",image:"https://images.unsplash.com/photo-1682687220063-4742bd7fd538?q=80&w=1000",tags:["Image","Generator","AI Art"],link:"#",owner:"DEX",date:"10 Juli 2025"}
                    ];
                    localStorage.setItem('bCards', JSON.stringify(defaultCards));
                }
                this.bCards = JSON.parse(localStorage.getItem('bCards')) || [];
            }
            
            _initializeDevCards() {
                if (!localStorage.getItem('devCards')) {
                    const defaultDevCards = [
                        {id:101,title:"API Debugger",image:"https://images.unsplash.com/photo-1550439062-609e1531270e?q=80&w=1000",tags:["Developer","API","Debug"],link:"#",owner:"DEX",date:"20 Juli 2025"},
                        {id:102,title:"Database Manager",image:"https://images.unsplash.com/photo-1587440871875-191322ee64b0?q=80&w=1000",tags:["Developer","Database","SQL"],link:"#",owner:"DEX",date:"18 Juli 2025"}
                    ];
                    localStorage.setItem('devCards', JSON.stringify(defaultDevCards));
                }
                this.devCards = JSON.parse(localStorage.getItem('devCards')) || [];
            }
            
            _renderBCards() {
                this.D.bGrid.innerHTML = '';
                this.bCards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'b-card';
                    cardElement.style.animationDelay = `${0.1 * index}s`;
                    cardElement.dataset.id = card.id;
                    const tagHTML = card.tags.map(tag => {
                        const isDanger = this.dangerousTags.includes(tag.toLowerCase());
                        return `<span class="b-tag ${isDanger ? 'danger-tag' : ''}">${tag}</span>`;
                    }).join('');
                    const ownerHTML = card.owner;
                    cardElement.innerHTML = `
                        <img src="${card.image}" alt="${card.title}" class="b-card-image">
                        <div class="b-card-content">
                            <div class="b-owner">
                                <div class="b-owner-avatar">${card.owner.charAt(0)}</div>
                                <div class="b-owner-details">
                                    <div class="b-owner-name">${ownerHTML}</div>
                                    <div class="b-date">Dipublikasikan: <span>${card.date}</span></div>
                                </div>
                                <button class="b-more-btn"><span class="material-icons">more_vert</span></button>
                                <div class="b-dropdown">
                                    ${this.isDev ? `<div class="b-dropdown-item" data-action="edit" data-id="${card.id}"><span class="material-icons">edit</span> Edit</div>` : ''}
                                    ${card.link ? `<div class="b-dropdown-item" data-action="visit" data-id="${card.id}"><span class="material-icons">open_in_new</span> Visit</div>` : ''}
                                    ${card.attachment ? `<div class="b-dropdown-item" data-action="download" data-id="${card.id}"><span class="material-icons">download</span> Download</div>` : ''}
                                    ${this.isDev ? `<div class="b-dropdown-item" data-action="delete" data-id="${card.id}"><span class="material-icons">delete</span> Hapus</div>` : ''}
                                </div>
                            </div>
                            <h3 class="b-card-title">${card.title}</h3>
                            <div class="b-tags">${tagHTML}</div>
                            <div class="b-actions">
                                ${card.link ? `<button class="b-button visit" data-id="${card.id}"><span class="material-icons">open_in_new</span> Visit</button>` : ''}
                                ${card.attachment ? `<button class="b-button download" data-id="${card.id}"><span class="material-icons">download</span> Download</button>` : ''}
                            </div>
                        </div>
                    `;
                    this.D.bGrid.appendChild(cardElement);
                    const moreBtn = cardElement.querySelector('.b-more-btn');
                    const dropdown = cardElement.querySelector('.b-dropdown');
                    moreBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        document.querySelectorAll('.b-dropdown').forEach(d => {
                            if (d !== dropdown) d.classList.remove('show');
                        });
                        dropdown.classList.toggle('show');
                    });
                    document.addEventListener('click', (e) => {
                        if (!dropdown.contains(e.target) && !moreBtn.contains(e.target)) {
                            dropdown.classList.remove('show');
                        }
                    });
                    dropdown.querySelectorAll('.b-dropdown-item').forEach(item => {
                        item.addEventListener('click', (e) => {
                            e.stopPropagation();
                            const action = item.dataset.action;
                            const cardId = item.dataset.id;
                            if (action === 'edit') {
                                this._editBCard(cardId);
                            } else if (action === 'delete') {
                                this._deleteBCard(cardId);
                            } else if (action === 'visit') {
                                const card = this.bCards.find(c => c.id == cardId);
                                if (card && card.link) {
                                    window.open(card.link, '_blank');
                                }
                            } else if (action === 'download') {
                                const card = this.bCards.find(c => c.id == cardId);
                                if (card && card.attachment) {
                                    this._downloadFile(card.attachment.name, card.attachment.data);
                                }
                            }
                            dropdown.classList.remove('show');
                        });
                    });
                    if (card.link) {
                        cardElement.querySelector('.b-button.visit')?.addEventListener('click', (e) => {
                            const cardId = e.currentTarget.dataset.id;
                            const card = this.bCards.find(c => c.id == cardId);
                            if (card && card.link) {
                                window.open(card.link, '_blank');
                            }
                        });
                    }
                    if (card.attachment) {
                        cardElement.querySelector('.b-button.download')?.addEventListener('click', (e) => {
                            const cardId = e.currentTarget.dataset.id;
                            const card = this.bCards.find(c => c.id == cardId);
                            if (card && card.attachment) {
                                this._downloadFile(card.attachment.name, card.attachment.data);
                            }
                        });
                    }
                });
            }
            
            _renderDevCards() {
                this.D.devGrid.innerHTML = '';
                this.devCards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'b-card dev-card';
                    cardElement.style.animationDelay = `${0.1 * index}s`;
                    cardElement.dataset.id = card.id;
                    const tagHTML = card.tags.map(tag => `<span class="b-tag">${tag}</span>`).join('');
                    const ownerHTML = card.owner;
                    cardElement.innerHTML = `
                        <img src="${card.image}" alt="${card.title}" class="b-card-image">
                        <div class="b-card-content">
                            <div class="b-owner">
                                <div class="b-owner-avatar">${card.owner.charAt(0)}</div>
                                <div class="b-owner-details">
                                    <div class="b-owner-name">${ownerHTML}</div>
                                    <div class="b-date">Dipublikasikan: <span>${card.date}</span></div>
                                </div>
                                <button class="b-more-btn"><span class="material-icons">more_vert</span></button>
                                <div class="b-dropdown">
                                    ${this.isDev ? `<div class="b-dropdown-item" data-action="edit" data-id="${card.id}"><span class="material-icons">edit</span> Edit</div>` : ''}
                                    ${card.link ? `<div class="b-dropdown-item" data-action="visit" data-id="${card.id}"><span class="material-icons">open_in_new</span> Visit</div>` : ''}
                                    ${card.attachment ? `<div class="b-dropdown-item" data-action="download" data-id="${card.id}"><span class="material-icons">download</span> Download</div>` : ''}
                                    ${this.isDev ? `<div class="b-dropdown-item" data-action="delete" data-id="${card.id}"><span class="material-icons">delete</span> Hapus</div>` : ''}
                                </div>
                            </div>
                            <h3 class="b-card-title">${card.title}</h3>
                            <div class="b-tags">${tagHTML}</div>
                            <div class="b-actions">
                                ${card.link ? `<button class="b-button visit" data-id="${card.id}"><span class="material-icons">open_in_new</span> Visit</button>` : ''}
                                ${card.attachment ? `<button class="b-button download" data-id="${card.id}"><span class="material-icons">download</span> Download</button>` : ''}
                            </div>
                        </div>
                    `;
                    this.D.devGrid.appendChild(cardElement);
                    const moreBtn = cardElement.querySelector('.b-more-btn');
                    const dropdown = cardElement.querySelector('.b-dropdown');
                    moreBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        document.querySelectorAll('.b-dropdown').forEach(d => {
                            if (d !== dropdown) d.classList.remove('show');
                        });
                        dropdown.classList.toggle('show');
                    });
                    document.addEventListener('click', (e) => {
                        if (!dropdown.contains(e.target) && !moreBtn.contains(e.target)) {
                            dropdown.classList.remove('show');
                        }
                    });
                    dropdown.querySelectorAll('.b-dropdown-item').forEach(item => {
                        item.addEventListener('click', (e) => {
                            e.stopPropagation();
                            const action = item.dataset.action;
                            const cardId = item.dataset.id;
                            if (action === 'edit') {
                                this._editDevCard(cardId);
                            } else if (action === 'delete') {
                                this._deleteDevCard(cardId);
                            } else if (action === 'visit') {
                                const card = this.devCards.find(c => c.id == cardId);
                                if (card && card.link) {
                                    window.open(card.link, '_blank');
                                }
                            } else if (action === 'download') {
                                const card = this.devCards.find(c => c.id == cardId);
                                if (card && card.attachment) {
                                    this._downloadFile(card.attachment.name, card.attachment.data);
                                }
                            }
                            dropdown.classList.remove('show');
                        });
                    });
                    if (card.link) {
                        cardElement.querySelector('.b-button.visit')?.addEventListener('click', (e) => {
                            const cardId = e.currentTarget.dataset.id;
                            const card = this.devCards.find(c => c.id == cardId);
                            if (card && card.link) {
                                window.open(card.link, '_blank');
                            }
                        });
                    }
                    if (card.attachment) {
                        cardElement.querySelector('.b-button.download')?.addEventListener('click', (e) => {
                            const cardId = e.currentTarget.dataset.id;
                            const card = this.devCards.find(c => c.id == cardId);
                            if (card && card.attachment) {
                                this._downloadFile(card.attachment.name, card.attachment.data);
                            }
                        });
                    }
                });
            }
            
            _editBCard(cardId) {
                const card = this.bCards.find(c => c.id == cardId);
                if (!card) return;
                this.currentEditCard = card;
                this.D.editBOwner.value = card.owner || '';
                this.D.editBTitle.value = card.title;
                this.D.editBLink.value = card.link || '';
                this.D.editBImageUrl.value = card.image || '';
                this.D.editBTagsContainer.innerHTML = '';
                card.tags.forEach(tag => this._addTagToContainer(tag, 'edit'));
                if (card.attachment) {
                    this.D.editBAttachmentFileInfo.style.display = 'flex';
                    this.D.editBAttachmentFileName.textContent = card.attachment.name;
                    this._setFileIcon(this.D.editBAttachmentFileInfo, card.attachment.name);
                } else {
                    this.D.editBAttachmentFileInfo.style.display = 'none';
                }
                if (card.image) {
                    this.D.editBImagePreview.src = card.image;
                    this.D.editBImagePreview.style.display = 'block';
                } else {
                    this.D.editBImagePreview.style.display = 'none';
                }
                this.D.editBContainer.classList.add('show');
            }
            
            _editDevCard(cardId) {
                const card = this.devCards.find(c => c.id == cardId);
                if (!card) return;
                this.currentEditCard = card;
                this.D.editBOwner.value = card.owner || '';
                this.D.editBTitle.value = card.title;
                this.D.editBLink.value = card.link || '';
                this.D.editBImageUrl.value = card.image || '';
                this.D.editBTagsContainer.innerHTML = '';
                card.tags.forEach(tag => this._addTagToContainer(tag, 'edit'));
                if (card.attachment) {
                    this.D.editBAttachmentFileInfo.style.display = 'flex';
                    this.D.editBAttachmentFileName.textContent = card.attachment.name;
                    this._setFileIcon(this.D.editBAttachmentFileInfo, card.attachment.name);
                } else {
                    this.D.editBAttachmentFileInfo.style.display = 'none';
                }
                if (card.image) {
                    this.D.editBImagePreview.src = card.image;
                    this.D.editBImagePreview.style.display = 'block';
                } else {
                    this.D.editBImagePreview.style.display = 'none';
                }
                this.D.editBContainer.classList.add('show');
            }
            
            _deleteBCard(cardId) {
                this.showCustomConfirm('Apakah Anda yakin ingin menghapus alat ini?', () => {
                    this.bCards = this.bCards.filter(card => card.id != cardId);
                    localStorage.setItem('bCards', JSON.stringify(this.bCards));
                    this._renderBCards();
                    this.showNotification('Alat berhasil dihapus!', 'success');
                });
            }
            
            _deleteDevCard(cardId) {
                this.showCustomConfirm('Apakah Anda yakin ingin menghapus alat developer ini?', () => {
                    this.devCards = this.devCards.filter(card => card.id != cardId);
                    localStorage.setItem('devCards', JSON.stringify(this.devCards));
                    this._renderDevCards();
                    this.showNotification('Alat developer berhasil dihapus!', 'success');
                });
            }
            
            _downloadFile(fileName, fileData) {
                if (fileData.startsWith('blob:')) {
                    const a = document.createElement('a');
                    a.href = fileData;
                    a.download = fileName;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    this.showNotification(`"${fileName}" berhasil diunduh!`, 'success');
                    return;
                }
                const byteCharacters = atob(fileData.split(',')[1]);
                const byteNumbers = new Array(byteCharacters.length);
                for (let i = 0; i < byteCharacters.length; i++) {
                    byteNumbers[i] = byteCharacters.charCodeAt(i);
                }
                const byteArray = new Uint8Array(byteNumbers);
                const blob = new Blob([byteArray], {type: 'application/octet-stream'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                this.showNotification(`"${fileName}" berhasil diunduh!`, 'success');
            }
            
            _readFileAsDataURL(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (event) => resolve(event.target.result);
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }
            
            _setFileIcon(fileInfoElement, fileName) {
                const iconElement = fileInfoElement.querySelector('.file-icon .material-icons');
                const ext = fileName.split('.').pop().toLowerCase();
                let iconName = 'description';
                if (['jpg','jpeg','png','gif','bmp','svg','webp'].includes(ext)) iconName = 'image';
                else if (['pdf'].includes(ext)) iconName = 'picture_as_pdf';
                else if (['doc','docx'].includes(ext)) iconName = 'description';
                else if (['xls','xlsx'].includes(ext)) iconName = 'table_chart';
                else if (['ppt','pptx'].includes(ext)) iconName = 'slideshow';
                else if (['zip','rar','7z','tar','gz'].includes(ext)) iconName = 'folder_zip';
                else if (['mp3','wav','flac','aac'].includes(ext)) iconName = 'audiotrack';
                else if (['mp4','mov','avi','mkv','wmv'].includes(ext)) iconName = 'movie';
                iconElement.textContent = iconName;
            }
            
            async _saveNewBCard() {
                const title = this.D.newBTitle.value.trim();
                const link = this.D.newBLink.value.trim();
                const tags = Array.from(this.D.newBTagsContainer.querySelectorAll('.tag-item')).map(tag => tag.querySelector('span').textContent);
                if (!title) {
                    this.showNotification('Judul wajib diisi', 'error');
                    return;
                }
                const MAX_FILE_SIZE = 1024 * 1024 * 1024;
                let imageData = null;
                if (this.tempImageFile) {
                    if (this.tempImageFile.size > MAX_FILE_SIZE) {
                        this.showNotification('Ukuran gambar terlalu besar. Maksimal 1GB.', 'error');
                        return;
                    }
                    imageData = URL.createObjectURL(this.tempImageFile);
                }
                let attachment = null;
                if (this.tempAttachmentFile) {
                    if (this.tempAttachmentFile.size > MAX_FILE_SIZE) {
                        this.showNotification('Ukuran lampiran terlalu besar. Maksimal 1GB.', 'error');
                        return;
                    }
                    const attachmentData = await this._readFileAsDataURL(this.tempAttachmentFile);
                    attachment = {name: this.tempAttachmentFile.name, type: this.tempAttachmentFile.type, data: attachmentData};
                }
                const newId = this.bCards.length > 0 ? Math.max(...this.bCards.map(c => c.id)) + 1 : 1;
                const now = new Date();
                const dateStr = now.toLocaleDateString('id-ID', {day: 'numeric', month: 'long', year: 'numeric'});
                const newCard = {
                    id: newId,
                    title,
                    image: imageData || "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=1000",
                    tags,
                    link,
                    attachment,
                    owner: this.isDev ? "DEX" : "User",
                    date: dateStr
                };
                this.bCards.push(newCard);
                localStorage.setItem('bCards', JSON.stringify(this.bCards));
                this.D.addBContainer.classList.remove('show');
                this._renderBCards();
                this.showNotification('Alat berhasil ditambahkan!', 'success');
                this._resetAddForm();
            }
            
            async _saveNewDevCard() {
                const title = this.D.newBTitle.value.trim();
                const link = this.D.newBLink.value.trim();
                const tags = Array.from(this.D.newBTagsContainer.querySelectorAll('.tag-item')).map(tag => tag.querySelector('span').textContent);
                if (!title) {
                    this.showNotification('Judul wajib diisi', 'error');
                    return;
                }
                const MAX_FILE_SIZE = 1024 * 1024 * 1024;
                let imageData = null;
                if (this.tempImageFile) {
                    if (this.tempImageFile.size > MAX_FILE_SIZE) {
                        this.showNotification('Ukuran gambar terlalu besar. Maksimal 1GB.', 'error');
                        return;
                    }
                    imageData = URL.createObjectURL(this.tempImageFile);
                }
                let attachment = null;
                if (this.tempAttachmentFile) {
                    if (this.tempAttachmentFile.size > MAX_FILE_SIZE) {
                        this.showNotification('Ukuran lampiran terlalu besar. Maksimal 1GB.', 'error');
                        return;
                    }
                    const attachmentData = await this._readFileAsDataURL(this.tempAttachmentFile);
                    attachment = {name: this.tempAttachmentFile.name, type: this.tempAttachmentFile.type, data: attachmentData};
                }
                const newId = this.devCards.length > 0 ? Math.max(...this.devCards.map(c => c.id)) + 1 : 101;
                const now = new Date();
                const dateStr = now.toLocaleDateString('id-ID', {day: 'numeric', month: 'long', year: 'numeric'});
                const newCard = {
                    id: newId,
                    title,
                    image: imageData || "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=1000",
                    tags,
                    link,
                    attachment,
                    owner: "DEX",
                    date: dateStr
                };
                this.devCards.push(newCard);
                localStorage.setItem('devCards', JSON.stringify(this.devCards));
                this.D.addBContainer.classList.remove('show');
                this._renderDevCards();
                this.showNotification('Alat developer berhasil ditambahkan!', 'success');
                this._resetAddForm();
            }
            
            async _saveEditedBCard() {
                if (!this.currentEditCard) return;
                const owner = this.D.editBOwner.value.trim();
                const title = this.D.editBTitle.value.trim();
                const link = this.D.editBLink.value.trim();
                const tags = Array.from(this.D.editBTagsContainer.querySelectorAll('.tag-item')).map(tag => tag.querySelector('span').textContent);
                if (!owner || !title) {
                    this.showNotification('Nama pengguna dan judul wajib diisi', 'error');
                    return;
                }
                const MAX_FILE_SIZE = 1024 * 1024 * 1024;
                let imageData = this.currentEditCard.image;
                const imageUrl = this.D.editBImageUrl.value.trim();
                if (imageUrl) {
                    imageData = imageUrl;
                } else if (this.tempEditImageFile) {
                    if (this.tempEditImageFile.size > MAX_FILE_SIZE) {
                        this.showNotification('Ukuran gambar terlalu besar. Maksimal 1GB.', 'error');
                        return;
                    }
                    imageData = URL.createObjectURL(this.tempEditImageFile);
                }
                if (this.tempEditAttachmentFile) {
                    if (this.tempEditAttachmentFile.size > MAX_FILE_SIZE) {
                        this.showNotification('Ukuran lampiran terlalu besar. Maksimal 1GB.', 'error');
                        return;
                    }
                    const attachmentData = await this._readFileAsDataURL(this.tempEditAttachmentFile);
                    this.currentEditCard.attachment = {name: this.tempEditAttachmentFile.name, type: this.tempEditAttachmentFile.type, data: attachmentData};
                }
                this.currentEditCard.owner = owner;
                this.currentEditCard.title = title;
                this.currentEditCard.image = imageData;
                this.currentEditCard.tags = tags;
                this.currentEditCard.link = link;
                const now = new Date();
                this.currentEditCard.date = now.toLocaleDateString('id-ID', {day: 'numeric', month: 'long', year: 'numeric'});
                localStorage.setItem('bCards', JSON.stringify(this.bCards));
                localStorage.setItem('devCards', JSON.stringify(this.devCards));
                this.D.editBContainer.classList.remove('show');
                this._renderBCards();
                this._renderDevCards();
                this.showNotification('Alat berhasil diperbarui!', 'success');
                this._resetEditForm();
                this.currentEditCard = null;
            }
            
            _resetAddForm() {
                this.D.newBTitle.value = '';
                this.D.newBLink.value = '';
                this.D.newBImageFile.value = '';
                this.D.newBImageFileInfo.style.display = 'none';
                this.D.newBImagePreview.style.display = 'none';
                this.D.newBImagePreview.src = '';
                this.D.newBAttachmentFile.value = '';
                this.D.newBAttachmentFileInfo.style.display = 'none';
                this.D.newBTagsContainer.innerHTML = '';
                this.tempImageFile = null;
                this.tempAttachmentFile = null;
            }
            
            _resetEditForm() {
                this.D.editBOwner.value = '';
                this.D.editBTitle.value = '';
                this.D.editBLink.value = '';
                this.D.editBImageUrl.value = '';
                this.D.editBImageFile.value = '';
                this.D.editBImageFileInfo.style.display = 'none';
                this.D.editBImagePreview.style.display = 'none';
                this.D.editBImagePreview.src = '';
                this.D.editBAttachmentFile.value = '';
                this.D.editBAttachmentFileInfo.style.display = 'none';
                this.D.editBTagsContainer.innerHTML = '';
                this.tempEditImageFile = null;
                this.tempEditAttachmentFile = null;
                this.D.editBContainer.classList.remove('show');
            }
            
            _addTagToContainer(tagText, formType) {
                const tagElement = document.createElement('div');
                tagElement.className = 'tag-item';
                tagElement.innerHTML = `<span>${tagText}</span><span class="remove-tag"><span class="material-icons">close</span></span>`;
                if (formType === 'add') this.D.newBTagsContainer.appendChild(tagElement);
                else this.D.editBTagsContainer.appendChild(tagElement);
                tagElement.querySelector('.remove-tag').addEventListener('click', () => tagElement.remove());
            }
            
            _setupFileUploadListeners() {
                this.D.newBImageFile.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        this.D.newBImageFileInfo.style.display = 'flex';
                        this.D.newBImageFileName.textContent = file.name;
                        this._setFileIcon(this.D.newBImageFileInfo, file.name);
                        this.tempImageFile = file;
                        const reader = new FileReader();
                        reader.onload = (event) => {
                            this.D.newBImagePreview.src = event.target.result;
                            this.D.newBImagePreview.style.display = 'block';
                        };
                        reader.readAsDataURL(file);
                    }
                });
                this.D.removeNewBImage.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.D.newBImageFile.value = '';
                    this.D.newBImageFileInfo.style.display = 'none';
                    this.D.newBImagePreview.style.display = 'none';
                    this.D.newBImagePreview.src = '';
                    this.tempImageFile = null;
                });
                this.D.newBAttachmentFile.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        this.D.newBAttachmentFileInfo.style.display = 'flex';
                        this.D.newBAttachmentFileName.textContent = file.name;
                        this._setFileIcon(this.D.newBAttachmentFileInfo, file.name);
                        this.tempAttachmentFile = file;
                    }
                });
                this.D.removeNewBAttachment.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.D.newBAttachmentFile.value = '';
                    this.D.newBAttachmentFileInfo.style.display = 'none';
                    this.tempAttachmentFile = null;
                });
                this.D.editBImageFile.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        this.D.editBImageFileInfo.style.display = 'flex';
                        this.D.editBImageFileName.textContent = file.name;
                        this._setFileIcon(this.D.editBImageFileInfo, file.name);
                        this.tempEditImageFile = file;
                        const reader = new FileReader();
                        reader.onload = (event) => {
                            this.D.editBImagePreview.src = event.target.result;
                            this.D.editBImagePreview.style.display = 'block';
                        };
                        reader.readAsDataURL(file);
                    }
                });
                this.D.removeEditBImage.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.D.editBImageFile.value = '';
                    this.D.editBImageFileInfo.style.display = 'none';
                    this.D.editBImagePreview.style.display = 'none';
                    this.D.editBImagePreview.src = '';
                    this.tempEditImageFile = null;
                });
                this.D.editBAttachmentFile.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        this.D.editBAttachmentFileInfo.style.display = 'flex';
                        this.D.editBAttachmentFileName.textContent = file.name;
                        this._setFileIcon(this.D.editBAttachmentFileInfo, file.name);
                        this.tempEditAttachmentFile = file;
                    }
                });
                this.D.removeEditBAttachment.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.D.editBAttachmentFile.value = '';
                    this.D.editBAttachmentFileInfo.style.display = 'none';
                    this.tempEditAttachmentFile = null;
                });
            }
            
            _setupEventListeners() {
                document.querySelectorAll('.menu-item').forEach(item => {
                    if (item.dataset.page) item.addEventListener('click', () => this.navigateTo(item.dataset.page));
                });
                this.D.devMenuItem.addEventListener('click', () => this.toggleDevMode());
                this.D.logoutMenuItem.addEventListener('click', () => this.logout());
                this.D.premiumMenuItem.addEventListener('click', () => this.navigateTo('premium'));
                this.D.hamburger.addEventListener('click', () => this.toggleMenu());
                document.addEventListener('click', e => {
                    if (this.D.menuItems.classList.contains('show') && !this.D.menuItems.contains(e.target) && !this.D.hamburger.contains(e.target)) {
                        this.toggleMenu(false);
                    }
                });
                this._setupBreadcrumbListeners();
                document.querySelectorAll('.buy-button').forEach(button => {
                    button.addEventListener('click', (e) => this.activatePremium(e.currentTarget.dataset.tier));
                });
                this.D.premiumToggleInput.addEventListener('change', () => this.togglePremiumStatus());
                this.D.search.addEventListener('input', () => this._filterList());
                this.D.addNewBButton.addEventListener('click', () => {
                    this.currentAddingType = 'home';
                    this.D.addBContainer.classList.add('show');
                });
                this.D.addDevToolButton.addEventListener('click', () => {
                    this.currentAddingType = 'developer';
                    this.D.addBContainer.classList.add('show');
                });
                this.D.closeAddForm.addEventListener('click', () => this.D.addBContainer.classList.remove('show'));
                this.D.cancelAddBButton.addEventListener('click', () => this.D.addBContainer.classList.remove('show'));
                this.D.saveNewBButton.addEventListener('click', () => {
                    if (this.currentAddingType === 'developer') this._saveNewDevCard();
                    else this._saveNewBCard();
                });
                this.D.addNewBTagBtn.addEventListener('click', () => {
                    const tagText = prompt("Masukkan tag baru:");
                    if (tagText && tagText.trim()) this._addTagToContainer(tagText.trim(), 'add');
                });
                this.D.addEditBTagBtn.addEventListener('click', () => {
                    const tagText = prompt("Masukkan tag baru:");
                    if (tagText && tagText.trim()) this._addTagToContainer(tagText.trim(), 'edit');
                });
                this.D.closeEditForm.addEventListener('click', () => this.D.editBContainer.classList.remove('show'));
                this.D.cancelEditBButton.addEventListener('click', () => this.D.editBContainer.classList.remove('show'));
                this.D.saveEditBButton.addEventListener('click', () => this._saveEditedBCard());
                this._setupFileUploadListeners();
            }
        }
        
        window.onload = () => {
            dexApp = new DexWebServer();
            dexApp.init();
        };
    </script>
</body>
</html>